"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElectionStatus=exports.ElectionMode=exports.Designation=void 0;const mongoose_1=__importDefault(require("mongoose")),mongoose_paginate_v2_1=__importDefault(require("mongoose-paginate-v2")),member_1=__importDefault(require("./member")),society_1=__importDefault(require("./society")),modelHelper_1=require("../helpers/modelHelper");var Designation,ElectionMode,ElectionStatus;!function(e){e.Chairman="Chairman",e.Secretary="Secretary",e.Treasurer="Treasurer",e.President="President",e.VicePresident="Vice President",e.CommitteeMember="Committee Member"}(Designation||(exports.Designation=Designation={})),function(e){e.Online="Online",e.Hybrid="Hybrid",e.Offline="Offline"}(ElectionMode||(exports.ElectionMode=ElectionMode={})),function(e){e.Active="Active",e.Scheduled="Scheduled",e.Completed="Completed",e.Cancelled="Cancelled",e.InProgress="In Progress"}(ElectionStatus||(exports.ElectionStatus=ElectionStatus={}));const candidateSchema=new mongoose_1.default.Schema({candidate:{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},count:{type:Number,required:!0,default:0,min:0}},{_id:!1,toJSON:modelHelper_1.setJson}),schema=new mongoose_1.default.Schema({title:{type:String,required:!0},electionDate:{type:Date,required:!0},description:{type:String,required:!0},nominationDeadline:{type:Date,required:!0},createdBy:{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},society:{ref:society_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},designation:{type:String,required:!0,enum:Object.values(Designation)},mode:{type:String,required:!0,default:ElectionMode.Online,enum:Object.values(ElectionMode)},status:{type:String,required:!0,default:ElectionStatus.Scheduled,enum:Object.values(ElectionStatus)},voters:[{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId}],candidates:[candidateSchema],deletedAt:{type:Date,required:!1,default:null}},{toJSON:modelHelper_1.setJson,timestamps:!0,versionKey:!1});schema.plugin(mongoose_paginate_v2_1.default);const Election=mongoose_1.default.model("Election",schema);exports.default=Election;