"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const mongoose_1=__importDefault(require("mongoose")),mongoose_paginate_v2_1=__importDefault(require("mongoose-paginate-v2")),member_1=__importDefault(require("./member")),society_1=__importDefault(require("./society")),modelHelper_1=require("../helpers/modelHelper"),schema=new mongoose_1.default.Schema({user:{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},society:{ref:society_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},loginType:{type:String,required:!0,enum:["G","M"]},token:{type:String,required:!0},ipAddress:{type:String,required:!1},userAgent:{type:String,required:!1},sessionDuration:{type:Number,required:!1},deletedAt:{type:Date,default:null,required:!1}},{toJSON:modelHelper_1.setJson,timestamps:!0,versionKey:!1});schema.index({user:1,loginTime:-1}),schema.index({society:1,loginTime:-1}),schema.plugin(mongoose_paginate_v2_1.default);const LoginHistory=mongoose_1.default.model("login-history",schema);exports.default=LoginHistory;