"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Status=exports.GrievanceTypes=exports.Priority=void 0;const mongoose_1=__importDefault(require("mongoose")),member_1=__importDefault(require("./member")),society_1=__importDefault(require("./society")),modelHelper_1=require("../helpers/modelHelper");var Priority,GrievanceTypes,Status;!function(e){e.Low="Low",e.High="High",e.Medium="Medium",e.Highest="Highest"}(Priority||(exports.Priority=Priority={})),function(e){e.Request="Request",e.Feedback="Feedback",e.Complaint="Complaint",e.Suggestion="Suggestion"}(GrievanceTypes||(exports.GrievanceTypes=GrievanceTypes={})),function(e){e.Open="Open",e.Closed="Closed",e.Resolved="Resolved",e.Reopened="Reopened",e.InProgress="In Progress"}(Status||(exports.Status=Status={}));const commentSchema=new mongoose_1.default.Schema({message:{type:String,required:!0},commentedBy:{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId}},{toJSON:modelHelper_1.setJson,timestamps:!0,versionKey:!1}),schema=new mongoose_1.default.Schema({createdBy:{ref:member_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},society:{ref:society_1.default,required:!0,type:mongoose_1.default.Schema.Types.ObjectId},comments:[commentSchema],title:{type:String,required:!0},description:{type:String,required:!0},deletedAt:{type:Date,required:!1,default:null},priority:{type:String,enum:Object.values(Priority),required:!0},type:{type:String,enum:Object.values(GrievanceTypes),required:!0},status:{type:String,required:!0,default:Status.Open,enum:Object.values(Status)}},{toJSON:modelHelper_1.setJson,timestamps:!0,versionKey:!1}),Grievance=mongoose_1.default.model("Grievance",schema);exports.default=Grievance;